{% extends 'base.html' %}


{% load static %}


{% block body %}
<div class="view">

  <!-- Grid -->

  <section class="grid grid--loader">

    <h2> Contact Us </h2>

<div class="container-contact100">

  <div class="wrap-contact1000">

    <form class="contact100-form validate-form" method="post">

      {% csrf_token %}

      <div class="wrap-input100 rs1-wrap-input100 validate-input" data-validate="Name is required">
        <span class="label-input100">Your Name</span>
{% if user.is_authenticated %}<p> {{ user.first_name}}&nbsp; {{ user.last_name}} </p> {% else %} <input class="input100" type="text" name="name"  placeholder="Enter your name">{% endif %}


        <span class="focus-input100"></span>
      </div>

      <div class="wrap-input100 rs1-wrap-input100 validate-input" data-validate = "Valid email is required: ex@abc.xyz">
        <span class="label-input100">Email</span>
        {% if user.is_authenticated %}<p> {{ user.email}}</p> {% else %}  <input class="input100" type="text" name="email" placeholder="Enter your email addess">{% endif %}

        <span class="focus-input100"></span>
      </div>

      <div class="wrap-input100 validate-input" data-validate = "Message is required">
        <span class="label-input100">Message</span>
        <textarea class="input100" name="message" placeholder="Your message here..."></textarea>
        <span class="focus-input100"></span>
      </div>

      <div class="container-contact100-form-btn">
        <button class="action--button-btn action">
          <span>
            Submit
            <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
          </span>
        </button>
      </div>
    </form>

    <span class="contact100-more">
      For any question contact our 24/7 call center: <span class="contact100-more-highlight">+27 21 555 5544</span>
    </span>
  </div>
</div>
</section>
</div>

<script type="text/javascript">

  (function ($) {
      "use strict";

      /*==================================================================
      [ Focus Contact2 ]*/
      $('.input100').each(function(){
          $(this).on('blur', function(){
              if($(this).val().trim() != "") {
                  $(this).addClass('has-val');
              }
              else {
                  $(this).removeClass('has-val');
              }
          })
      })

      /*==================================================================
      [ Validate ]*/
      var input = $('.validate-input .input100');

      $('.validate-form').on('submit',function(){
          var check = true;

          for(var i=0; i<input.length; i++) {
              if(validate(input[i]) == false){
                  showValidate(input[i]);
                  check=false;
              }
          }

          return check;
      });


      $('.validate-form .input100').each(function(){
          $(this).focus(function(){
             hideValidate(this);
          });
      });

      function validate (input) {
          if($(input).attr('type') == 'email' || $(input).attr('name') == 'email') {
              if($(input).val().trim().match(/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/) == null) {
                  return false;
              }
          }
          else {
              if($(input).val().trim() == ''){
                  return false;
              }
          }
      }

      function showValidate(input) {
          var thisAlert = $(input).parent();

          $(thisAlert).addClass('alert-validate');
      }

      function hideValidate(input) {
          var thisAlert = $(input).parent();

          $(thisAlert).removeClass('alert-validate');
      }


      /*==================================================================
      [ Show / hide Form ]*/

      $('.contact100-btn-hide').on('click', function(){
          $('.wrap-contact100').fadeOut(400);
      })

      $('.contact100-btn-show').on('click', function(){
          $('.wrap-contact100').fadeIn(400);
      })

  });
  </script>
{% endblock %}
